<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download de HTML</title>
</head>
<body>

<button id="botaoDownload">Baixar Arquivo HTML</button>

<script>
document.getElementById("botaoDownload").addEventListener("click", function() {
    // Realizar a solicitação GET para a rota de download
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "http://localhost:3001/download", true);
    xhr.responseType = 'blob'; // Definir o tipo de resposta para Blob
    xhr.onload = function () {
        if (xhr.status === 200) {
            // Criar um link temporário para download do arquivo
            var url = window.URL.createObjectURL(xhr.response);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'index.html'; // Nome do arquivo para download
            document.body.appendChild(a);
            a.click(); // Clicar no link para iniciar o download
            window.URL.revokeObjectURL(url); // Liberar o objeto URL após o download
        }
    };
    xhr.send();
});
</script>

</body>
</html>
